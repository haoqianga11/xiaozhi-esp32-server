<mxfile host="65bd71144e">
    <diagram name="manager-mobile业务架构" id="manager-mobile-business">
        <mxGraphModel dx="1673" dy="907" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2339" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="title" value="manager-mobile 业务实现架构图" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="577" y="40" width="500" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="main-app" value="UniApp 跨平台移动应用&#xa;• Vue 3.4 + TypeScript&#xa;• Pinia状态管理&#xa;• 多端兼容（H5/小程序/APP）" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="627" y="120" width="400" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="pages-layer" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;opacity=30;" parent="1" vertex="1">
                    <mxGeometry x="80" y="240" width="1500" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="pages-title" value="页面层 (Pages)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="250" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="index-page" value="index/index.vue&#xa;首页（智能体列表）&#xa;• z-paging分页&#xa;• 创建智能体&#xa;• 卡片展示" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="120" y="290" width="150" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="agent-pages" value="agent/&#xa;• index.vue 智能体详情&#xa;• edit.vue 编辑智能体&#xa;• tools.vue 功能工具" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="300" y="290" width="150" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="device-pages" value="device/&#xa;• index.vue 设备列表&#xa;• device-config/配网页" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="480" y="290" width="150" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="chat-pages" value="chat-history/&#xa;• index.vue 记录列表&#xa;• detail.vue 详情页" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="660" y="290" width="150" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="auth-pages" value="用户认证页面&#xa;• login/index.vue&#xa;• register/index.vue" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="840" y="290" width="150" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="other-pages" value="其他功能页面&#xa;• voiceprint/声纹&#xa;• settings/设置" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="1020" y="290" width="150" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="layout-system" value="布局系统&#xa;• default.vue 默认布局&#xa;• tabbar.vue TabBar布局&#xa;• fg-tabbar 自定义TabBar" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
                    <mxGeometry x="1200" y="290" width="160" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="api-layer" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;opacity=30;" parent="1" vertex="1">
                    <mxGeometry x="80" y="480" width="1500" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="api-title" value="API服务层 (API Services)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="490" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="agent-api" value="agent/agent.ts&#xa;智能体API&#xa;• getAgentList 列表&#xa;• createAgent 创建&#xa;• updateAgent 更新&#xa;• deleteAgent 删除" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1ffc7;strokeColor=#67ab36;" parent="1" vertex="1">
                    <mxGeometry x="120" y="530" width="140" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="device-api" value="device/device.ts&#xa;设备管理API&#xa;• 设备绑定&#xa;• 设备配置&#xa;• 状态监控" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1ffc7;strokeColor=#67ab36;" parent="1" vertex="1">
                    <mxGeometry x="300" y="530" width="140" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="chat-api" value="chat-history/&#xa;聊天记录API&#xa;• 历史记录查询&#xa;• 会话管理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1ffc7;strokeColor=#67ab36;" parent="1" vertex="1">
                    <mxGeometry x="480" y="530" width="140" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="auth-api" value="auth.ts&#xa;认证API&#xa;• 用户登录&#xa;• 用户信息获取&#xa;• Token管理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1ffc7;strokeColor=#67ab36;" parent="1" vertex="1">
                    <mxGeometry x="660" y="530" width="140" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="voice-api" value="voiceprint/&#xa;声纹识别API&#xa;• 声纹注册&#xa;• 声纹验证&#xa;• 说话人管理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1ffc7;strokeColor=#67ab36;" parent="1" vertex="1">
                    <mxGeometry x="840" y="530" width="140" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="model-api" value="模型配置API&#xa;• 模型选项获取&#xa;• TTS音色列表&#xa;• 插件功能" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1ffc7;strokeColor=#67ab36;" parent="1" vertex="1">
                    <mxGeometry x="1020" y="530" width="140" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="mcp-api" value="MCP集成API&#xa;• getMcpAddress&#xa;• getMcpTools&#xa;• 协议转换" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1ffc7;strokeColor=#67ab36;" parent="1" vertex="1">
                    <mxGeometry x="1200" y="530" width="140" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="http-layer" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;opacity=30;" parent="1" vertex="1">
                    <mxGeometry x="80" y="720" width="1500" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="http-title" value="HTTP请求层" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="730" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="alova-http" value="alova.ts&#xa;HTTP客户端封装&#xa;• Alova适配器&#xa;• 请求拦截器&#xa;• 响应处理&#xa;• 错误统一处理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffd6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="200" y="770" width="180" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="request-types" value="types.ts &amp; enum.ts&#xa;请求类型定义&#xa;• 接口类型&#xa;• 枚举常量&#xa;• 响应数据结构" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffd6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="420" y="770" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="request-hooks" value="请求Hooks&#xa;• useRequest 通用请求&#xa;• useUpload 文件上传&#xa;• usePageAuth 页面权限" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffd6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="620" y="770" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="uniapp-adapter" value="UniApp适配器&#xa;• @alova/adapter-uniapp&#xa;• 跨平台网络请求&#xa;• 自动重试机制" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffd6cc;strokeColor=#d79b00;" parent="1" vertex="1">
                    <mxGeometry x="820" y="770" width="160" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="store-layer" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f7ff;strokeColor=#1890ff;opacity=30;" parent="1" vertex="1">
                    <mxGeometry x="80" y="920" width="1500" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="store-title" value="状态管理层 (Pinia Store)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="930" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="user-store" value="user.ts&#xa;用户状态管理&#xa;• userInfo 用户信息&#xa;• setUserInfo 设置信息&#xa;• logout 退出登录&#xa;• 持久化存储" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4f1ff;strokeColor=#1f85de;" parent="1" vertex="1">
                    <mxGeometry x="200" y="970" width="150" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="config-store" value="config.ts&#xa;配置状态管理&#xa;• 系统配置&#xa;• 主题设置&#xa;• 环境变量" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4f1ff;strokeColor=#1f85de;" parent="1" vertex="1">
                    <mxGeometry x="380" y="970" width="150" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="plugin-store" value="plugin.ts&#xa;插件状态管理&#xa;• 持久化插件&#xa;• 数据同步&#xa;• uni存储适配" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4f1ff;strokeColor=#1f85de;" parent="1" vertex="1">
                    <mxGeometry x="560" y="970" width="150" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="global-store" value="index.ts&#xa;全局Store入口&#xa;• createPinia&#xa;• 持久化配置&#xa;• 模块导出" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4f1ff;strokeColor=#1f85de;" parent="1" vertex="1">
                    <mxGeometry x="740" y="970" width="150" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="infra-layer" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2e6;strokeColor=#f57c00;opacity=30;" parent="1" vertex="1">
                    <mxGeometry x="80" y="1120" width="1500" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="infra-title" value="基础设施和工具层" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="1130" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="uniapp-framework" value="UniApp框架&#xa;• Vue 3.4.21&#xa;• TypeScript支持&#xa;• 跨平台编译&#xa;• 条件编译" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff7e6;strokeColor=#ff8c00;" parent="1" vertex="1">
                    <mxGeometry x="120" y="1170" width="140" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="ui-components" value="UI组件库&#xa;• wot-design-uni&#xa;• z-paging分页&#xa;• 自定义组件" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff7e6;strokeColor=#ff8c00;" parent="1" vertex="1">
                    <mxGeometry x="300" y="1170" width="140" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="data-query" value="数据查询&#xa;• @tanstack/vue-query&#xa;• 缓存管理&#xa;• 请求状态" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff7e6;strokeColor=#ff8c00;" parent="1" vertex="1">
                    <mxGeometry x="480" y="1170" width="140" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="utils" value="工具函数&#xa;• utils/index.ts&#xa;• platform.ts&#xa;• toast消息提示" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff7e6;strokeColor=#ff8c00;" parent="1" vertex="1">
                    <mxGeometry x="660" y="1170" width="140" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="router" value="路由系统&#xa;• interceptor.ts&#xa;• 路由守卫&#xa;• 权限控制" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff7e6;strokeColor=#ff8c00;" parent="1" vertex="1">
                    <mxGeometry x="840" y="1170" width="140" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="build-tools" value="构建工具&#xa;• Vite 5.2.8&#xa;• UnoCSS&#xa;• TypeScript&#xa;• ESLint" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff7e6;strokeColor=#ff8c00;" parent="1" vertex="1">
                    <mxGeometry x="1020" y="1170" width="140" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="platform-support" value="平台支持&#xa;• H5网页&#xa;• 微信小程序&#xa;• APP(Android/iOS)&#xa;• 快应用" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff7e6;strokeColor=#ff8c00;" parent="1" vertex="1">
                    <mxGeometry x="1200" y="1170" width="140" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="external-apis" value="外部后端API&#xa;manager-api (Spring Boot)&#xa;端口: 8002" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc4125;" parent="1" vertex="1">
                    <mxGeometry x="80" y="1360" width="200" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="flow1" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;fillColor=#60a917;strokeColor=#2D7600;" parent="1" source="main-app" target="index-page" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="827" y="200" as="sourcePoint"/>
                        <mxPoint x="195" y="290" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="flow2" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;fillColor=#1ba1e2;strokeColor=#006EAF;" parent="1" source="index-page" target="agent-api" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="195" y="390" as="sourcePoint"/>
                        <mxPoint x="190" y="530" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="flow3" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;fillColor=#6a00ff;strokeColor=#3700CC;" parent="1" source="agent-api" target="alova-http" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="190" y="640" as="sourcePoint"/>
                        <mxPoint x="290" y="770" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="flow4" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;fillColor=#cc0000;strokeColor=#990000;" parent="1" source="alova-http" target="external-apis" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="290" y="850" as="sourcePoint"/>
                        <mxPoint x="180" y="1360" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="flow5" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;fillColor=#008a00;strokeColor=#005700;" parent="1" source="user-store" target="index-page" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="275" y="970" as="sourcePoint"/>
                        <mxPoint x="195" y="390" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#666666;" parent="1" vertex="1">
                    <mxGeometry x="320" y="1360" width="1000" height="230" as="geometry"/>
                </mxCell>
                <mxCell id="legend-title" value="图例说明" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" parent="1" vertex="1">
                    <mxGeometry x="770" y="1370" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend1" value="UniApp应用" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="340" y="1410" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend2" value="页面组件" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="430" y="1410" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend3" value="API服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1ffc7;strokeColor=#67ab36;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="520" y="1410" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend4" value="HTTP请求" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffd6cc;strokeColor=#d79b00;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="610" y="1410" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend5" value="状态管理" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4f1ff;strokeColor=#1f85de;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="700" y="1410" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend6" value="基础设施" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff7e6;strokeColor=#ff8c00;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="790" y="1410" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend7" value="外部服务" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcccc;strokeColor=#cc4125;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="880" y="1410" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="tech-stack" value="核心技术栈&#xa;• UniApp + Vue 3.4 + TypeScript&#xa;• Pinia状态管理 + 持久化&#xa;• Alova HTTP客户端&#xa;• wot-design-uni UI组件&#xa;• z-paging分页组件&#xa;• @tanstack/vue-query 数据查询&#xa;• UnoCSS原子化CSS" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="340" y="1460" width="300" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="platform-info" value="支持平台&#xa;• H5网页版&#xa;• 微信小程序&#xa;• Android APP&#xa;• iOS APP&#xa;• 快应用&#xa;• 鸿蒙应用" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="680" y="1460" width="120" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="features-info" value="核心特性&#xa;• 跨平台移动管理&#xa;• 智能体创建编辑&#xa;• 设备配网绑定&#xa;• 聊天记录查看&#xa;• 声纹识别管理&#xa;• 响应式设计&#xa;• 离线数据缓存" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;" parent="1" vertex="1">
                    <mxGeometry x="840" y="1460" width="140" height="120" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>