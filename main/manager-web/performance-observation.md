# manager-web 管理端性能记录

## 背景
- manager-web 主要面向内部管理员使用，普通设备用户不会访问该界面。
- 在万级设备或智能体的极端场景下，前端渲染和接口数据量会显著增加，需要提前知晓可能的体验影响。

## 已识别的问题
- **全量设备加载**：接口 getAgentBindDevices 在 DeviceManagement.vue 中一次性拉取并在浏览器切片，绑定设备越多首屏越慢。
- **状态接口重复回传大 JSON**：接口 getDeviceStatus 返回整块状态映射，再由前端遍历匹配，10k 设备时解析与网络成本线性提升。
- **分页交互体验一般**：分页只显示 3 个页码，需要多次点击 goNext，页面渲染也会在大数组上重复切片。
- **首页设备卡片渲染密集**：home.vue 直接使用 v-for 渲染所有智能体，缺少分页或虚拟滚动。

## 现阶段结论
- 这些性能问题主要影响后台页面体验，对设备端或 Server 服务没有直接影响。
- 鉴于后台用户量较小、访问频率有限，该优化不需要立即执行。

## 后续建议
1. 设备规模明显增长前做一次压测，确认后台首屏加载和交互是否能接受。
2. 真正需要优化时，可从接口分页、列表懒加载或虚拟滚动、状态增量同步等方向入手。
3. 记录后台体验期望指标（如首屏小于 5 秒），作为未来优化目标。
